@*@model List<Model.ViewModels.AccountViewModel>*@

@using PagedList.Mvc 
@model  PagedList.IPagedList<Model.ViewModels.AccountViewModel>

@{
    ViewBag.Title = "Results";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="navBarWithNoAd">

</section>

<div class="container">
    <div class="row">
        <section class="content">
            <h2>نتائج البحث</h2>
            @if (Model.Count() == 0)
            {
            <p class="padding-right-50">لا توجد نتائج</p>
            }
            else
            {
                <div class="col-md-8 col-md-offset-2">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="table-container">
                                <table class="table table-filter">
                                    <tbody>

                                        @foreach (var item in Model)
                                        {
                                            <tr>
                                                <td>
                                                    <div class="media">
                                                        <a href="../Accounts/AccountProfile/@item.AccountId" class="pull-right">
                                                            <img src="../@item.CardImage" onerror="this.src='@HttpRuntime.AppDomainAppVirtualPath/Uploads/Default.jpg'" class="card-200">
                                                        </a>
                                                        <div class="media-body">
                                                            <label class="media-meta pull-left mt-15 ">عدد عمليات البحث <span class="badge">@item.NoOfSearches</span></label>
                                                            <h4 class="title resultTitle">
                                                                @item.FirstName  @item.LastName
                                                            </h4>
                                                            <p class="summary">
                                                                تعمل فى مجال @item.ProfessionTitle
                                                            </p>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>


                                <div id="container" style="margin-left: 20px">
                                    <p></p>
                                    <p></p>
                                    <div class="pagination" style="margin-left: 400px">
                                        @Html.PagedListPager(Model, page => Url.Action("Results", new { page }))

                                        صفحة @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
                                        من @Model.PageCount
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>

            }
        </section>

    </div>
</div>